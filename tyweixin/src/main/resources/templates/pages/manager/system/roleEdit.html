<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head>
<meta charset="UTF-8" />
<link type="text/css" rel="stylesheet" href="/layui/css/layui.css"/>
  <script type="text/javascript" src="/sysframe2/js/plugins/jquery-1.7.min.js"></script>
<script type="text/javascript" src="/layui/layui.js"></script>
</head>
<body style="padding:30px 60px 10px 10px">
<form class="layui-form" >
  <input th:if="${roleObject!=null and roleObject.id!=null}" type="hidden" name="id" th:value="${roleObject.id}"/>
  <div class="layui-form-item">
    <label class="layui-form-label">角色名</label>
    <div class="layui-input-block">
      <input type="text" name="rName" required="required" th:value="${roleObject?.rName}"  lay-verify="required" placeholder="请输入角色名" autocomplete="off" class="layui-input" />
    </div>
  </div>  <div class="layui-form-item">
    <label class="layui-form-label">角色别称</label>
    <div class="layui-input-block">
      <input type="text" name="rByname" required="required" th:value="${roleObject?.rByname}"  lay-verify="required" placeholder="角色别称" autocomplete="off" class="layui-input" />
    </div>
  </div>
  <div class="layui-form-item">
    <label class="layui-form-label">角色类型</label>
    <div class="layui-input-inline">
      <select name="rType" lay-verify="required" >
        <option value="1_1">普通用户</option>
        <option value="1_2">管理员</option>
        <option value="1_3">超级管理员</option>

      </select>
    </div>
  </div>
  <div class="layui-form-item">
    <label class="layui-form-label">选择用户</label>

      <div class="layui-input-block" style="overflow-y: auto;height: 200px;border: 1px #E6E6E6 solid;padding-left: 10px">

        <input type="checkbox" name="uId"  th:each="obj:${userList}" th:value="${obj['id']}" th:checked="${obj['isThisRole']}"  th:title="${obj['uName']}">


      </div>


  </div>
  <div class="layui-form-item">
    <div class="layui-input-block">
      <button class="layui-btn" lay-submit="lay-submit" lay-filter="formDemo">立即提交</button>
      <button type="reset" class="layui-btn layui-btn-primary">重置</button>
    </div>
  </div>
</form>
<script type="text/javascript">
layui.use('form', function(){
  var form = layui.form;
    $(".layui-form").submit(function(){
        $.post("do-edit-role",$(".layui-form").serializeArray(),function(data){
            layer.msg(data.reMsg);
            if(data.reCode==1){

                window.setTimeout(function(){
                    top.location.href=window.parent.location.href;
                },500)
            }

        });
        return false;
    });
  //各种基于事件的操作，下面会有进一步介绍
});
</script>
</body>
</html>